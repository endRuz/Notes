# 关于 numpy 向量的说明

```python
import numpy as np

a = np.random.randn(5)
print(a)
# [ 0.1778015  -1.49268082  0.70302381 -0.32609242  1.03658993]
print(a.shape)
# (5,)
print(a.T)
# [ 0.1778015  -1.49268082  0.70302381 -0.32609242  1.03658993]
print(np.dot(a, a.T))
# 3.9348068387774733
```

以上代码中 `a.shape` 值为 `(5,)` 表示一个秩为 1 的数组。

转置对秩为 1 的数组无效。因此，应该避免使用秩为 1 的数组，用 $n \times 1$ 的矩阵代替。

例如，用 `np.random.randn(5, 1)` 代替 `np.random.randn(5)`。

```python
import numpy as np

a = np.random.randn(5, 1)
print(a)
# [[ 0.19106011]
#  [ 0.35822502]
#  [ 1.44925311]
#  [-0.49670585]
#  [ 0.02261684]]
print(a.shape)
# (5, 1)
print(a.T)
# [[ 0.19106011  0.35822502  1.44925311 -0.49670585  0.02261684]]
print(np.dot(a, a.T))
# [[ 3.65039668e-02  6.84425129e-02  2.76894464e-01 -9.49006764e-02
#    4.32117553e-03]
#  [ 6.84425129e-02  1.28325165e-01  5.19158727e-01 -1.77932464e-01
#    8.10191709e-03]
#  [ 2.76894464e-01  5.19158727e-01  2.10033459e+00 -7.19852504e-01
#    3.27775222e-02]
#  [-9.49006764e-02 -1.77932464e-01 -7.19852504e-01  2.46716704e-01
#   -1.12339156e-02]
#  [ 4.32117553e-03  8.10191709e-03  3.27775222e-02 -1.12339156e-02
#    5.11521340e-04]]
```

如果得到了一个秩为 1 的数组，可以使用 `reshape` 进行转换。

```python
import numpy as np

a = np.random.randn(5)
print(a)
# [-1.68573121 -1.45979153  1.39201093 -0.74994135  0.08403135]
a = a.reshape((5, 1))
print(a)
# [[-1.68573121]
#  [-1.45979153]
#  [ 1.39201093]
#  [-0.74994135]
#  [ 0.08403135]]
print(a.shape)
# (5, 1)
print(a.T)
# [[-1.68573121 -1.45979153  1.39201093 -0.74994135  0.08403135]]
print(np.dot(a, a.T))
# [[ 2.84168971  2.46081614 -2.34655627  1.26419954 -0.14165427]
#  [ 2.46081614  2.13099131 -2.03204576  1.09475803 -0.12266825]
#  [-2.34655627 -2.03204576  1.93769442 -1.04392656  0.11697256]
#  [ 1.26419954  1.09475803 -1.04392656  0.56241203 -0.06301858]
#  [-0.14165427 -0.12266825  0.11697256 -0.06301858  0.00706127]]
```
