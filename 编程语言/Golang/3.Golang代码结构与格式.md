# Golang 代码结构与格式

- [Golang 代码结构与格式](#golang-代码结构与格式)
  - [Golang 代码结构](#golang-代码结构)
    - [package](#package)
    - [import](#import)
    - [func](#func)
    - [var](#var)
    - [const](#const)
    - [type](#type)
  - [Golang 代码格式](#golang-代码格式)
  - [注释](#注释)
  - [换行](#换行)
  - [代码格式化](#代码格式化)

## Golang 代码结构

### package

Golang 的代码通过包（package）组织，包类似于其它语言里的库（libraries）或者模块（modules）。

一个包由位于单个目录下的一个或多个 `.go` 源代码文件组成，目录定义包的作用。

每个源文件都中第一段有效代码必须是 `package <包名>` 的形式，如 `package hello`，表示该文件属于 hello 这个包。

main 包比较特殊，它定义了一个独立可执行的程序，而不是一个库。在 main 包里的 main 函数 也很特殊，它是整个程序执行时的入口。

### import

`package` 声明后面的 `import` 声明告诉编译器源文件需要哪些包。

必须恰当导入需要的包，缺少了必要的包或者导入了不需要的包，程序都无法编译通过。

### func

函数声明

### var

变量声明

### const

常量声明

### type

类型声明

## Golang 代码格式

## 注释

单行注释以 `//` 开头

多行注释可以用 `/* ... */` 来包裹

## 换行

Golang 不需要在语句或者声明的末尾添加分号，除非一行上有多条语句。编译器会主动把特定符号后的换行符转换为分号，因此换行符添加的位置会影响代码的正确解析。

举个例子：

1. 函数的左括号 `{` 必须和 `func` 函数声明在同一行上，且位于末尾，不能独占一行
2. 而在表达式 `x + y` 中，可在 `+` 后换行，不能在 `+` 前换行（以 `+` 结尾的话不会被插入分号分隔符，但是以 `x` 结尾的话则会被分号分隔符，从而导致编译错误）。

## 代码格式化

Golang 提供 `gofmt` 工具把代码格式化为标准格式。
