# Golang 编译与工具

- [Golang 编译与工具](#golang-编译与工具)
  - [go build 命令](#go-build-命令)
  - [go run 命令](#go-run-命令)
  - [go install 命令](#go-install-命令)
  - [go get 命令](#go-get-命令)
- [动态编译和静态编译](#动态编译和静态编译)
    - [动态编译](#动态编译)
    - [静态编译](#静态编译)

## go build 命令

编译包和依赖。

```bash
$ go build hello.go
$ ./hello
hello, world
```

`go build` 命令生成一个可执行的二进制文件，之后你可以随时运行它，不需任何处理。

**注：** Golang 使用的是[静态编译](#静态编译)。

## go run 命令

编译并运行 Golang 程序。

```bash
$ go run hello.go
hello, world
```

这个命令在内部实际上分成了三步操作：

1. 编译生成可执行文件
2. 运行编译出来的可执行文件
3. 运行结束后销毁编译出来的可执行文件

## go install 命令

`go install` 命令的功能和 `go build` 命令类似，附加参数绝大多数都可以与 `go build` 通用。

这个命令在内部实际上分成了两步操作：

1. 生成结果文件（可执行文件或者包）
2. 把编译好的结果移到 `$GOPATH/bin` 或者 `$GOPATH/pkg`。

## go get 命令

`go get` 命令可以借助代码管理工具通过远程拉取或更新代码包及其依赖包，并自动完成编译和安装。

这个命令可以动态获取远程代码包，目前支持的有 BitBucket、GitHub、Google Code 和 Launchpad。在使用 `go get` 命令前，需要安装与远程包匹配的代码管理工具，如 Git、SVN、HG 等，参数中需要提供一个包名。

这个命令在内部实际上分成了两步操作：

1. 下载源码包
2. 执行 `go install`

# 动态编译和静态编译

### 动态编译

动态编译可执行文件需要附带一个的动态链接库，在执行时，需要调用其对应动态链接库中的命令。

动态编译优点：

1. 缩小了执行文件本身的体积；
2. 加快了编译速度，节省了系统资源。

动态编译缺点：

1. 需要附带一个相对庞大的链接库；
2. 如果计算机上没有安装对应的运行库，则用动态编译的可执行文件就不能运行。

### 静态编译

静态编译就是编译器在编译可执行文件的时候，将可执行文件需要调用的对应动态链接库(.so)中的部分提取出来，链接到可执行文件中去，使可执行文件在运行的时候不依赖于动态链接库。

所以其优缺点与动态编译的可执行文件正好互补。
